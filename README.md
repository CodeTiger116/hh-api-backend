### api平台
#### 模拟接口（AppKey鉴权）
#### 开发SDK（starter）
#### 接口管理（接口调用/管理）
#### 公共模块
#### 网关


### 初始化项目
- 项目初始化
- 数据库设计
- 接口增删改查

### 接口发布/下线
发布接口
- 校验接口是否存在
- 判断接口是否可以调用
- 修改接口状态为1

下线接口
- 校验接口是否存在
- 修改接口状态为0

### 申请签名
- 调用接口


### API网关
- 接口调用次数
- 网关应用
  
接口调用次数
- 1、用户调用接口
- 2、调用成功，修改数据库次数加一

1和2可以写在一个方法，但把修改调用次数的代码独立出来更好

实现方法：
- AOP，独立于接口，但是在单个项目中使用
- 网关

网关作用
- 路由（将请求转发到模拟接口项目）
- 访问控制（黑白名单）
- 负载均衡（要用到注册中心）本项目不用
- 鉴权（appKey、secretKey）
- 接口保护（限流、降级熔断）本项目不用
- 等等

网关分类：
- 全局网关：接入层网关，作用是负载均衡、请求日志等，不和业务逻辑绑定
- 业务网关：会有业务逻辑，作用是将请求转发到不同的业务

网关实现：
- Nginx（全局网关）
- Spring Cloud Gateway：性能高，取代了Zuul，可以用java来写逻辑，编程式

### 网关应用到项目
- 用户发送请求到api网关
- 网关进行用户鉴权
- 请求接口是否存在
- 调用模拟接口（请求转发）
- 调用成功，调用次数加一
- 调用失败，返回错误

因为网关项目没有引入Mybatis等操作数据库的类库，
如果操作较为复杂，可以由backend项目提供增删改查接口，
在网关项目中直接调用
- RPC（dubbo）：像调用本地方法一样调用远程方法

提供者 ---提供信息---》注册中心《---要信息--- 调用方


怎么调用其他项目的方法：
- 复制代码、依赖以及环境
- HTTP请求（提供一个接口）
- 客户端SDK
- RPC


### 整合
1、backend项目作为服务提供者
- 去数据库中查是否已分配给用户（appKey、secretKey）
- 查询模拟接口是否存在
- 调用成功、接口调用次数加一

2、gateway项目作为服务调用者


### 公共服务模块
让实体类在多个项目复用
